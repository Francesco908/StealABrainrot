-- Steal a brainrot Script
-- Advanced Admin GUI with All Features

local Players = game:GetService("Players")
local UserInputService = game:GetService("UserInputService")
local RunService = game:GetService("RunService")
local TweenService = game:GetService("TweenService")
local ReplicatedStorage = game:GetService("ReplicatedStorage")

local player = Players.LocalPlayer
local mouse = player:GetMouse()

-- Variables
local infiniteJumpEnabled = false
local speedHackEnabled = false
local floatEnabled = false
local espEnabled = false
local originalWalkSpeed = 16
local floatPosition = nil
local basePosition = nil
local connections = {}
local espObjects = {}

-- GUI Creation
local screenGui = Instance.new("ScreenGui")
screenGui.Name = "StealBrainrotScript"
screenGui.ResetOnSpawn = false
screenGui.Parent = player:WaitForChild("PlayerGui")

-- Main Frame
local mainFrame = Instance.new("Frame")
mainFrame.Name = "MainFrame"
mainFrame.Size = UDim2.new(0, 400, 0, 300)
mainFrame.Position = UDim2.new(0.5, -200, 0.5, -150)
mainFrame.BackgroundColor3 = Color3.fromRGB(25, 25, 25)
mainFrame.BorderSizePixel = 0
mainFrame.Active = true
mainFrame.Draggable = true
mainFrame.Parent = screenGui

-- Corner Radius
local mainCorner = Instance.new("UICorner")
mainCorner.CornerRadius = UDim.new(0, 10)
mainCorner.Parent = mainFrame

-- Title Bar
local titleBar = Instance.new("Frame")
titleBar.Name = "TitleBar"
titleBar.Size = UDim2.new(1, 0, 0, 40)
titleBar.Position = UDim2.new(0, 0, 0, 0)
titleBar.BackgroundColor3 = Color3.fromRGB(35, 35, 35)
titleBar.BorderSizePixel = 0
titleBar.Parent = mainFrame

local titleCorner = Instance.new("UICorner")
titleCorner.CornerRadius = UDim.new(0, 10)
titleCorner.Parent = titleBar

-- Title Text
local titleText = Instance.new("TextLabel")
titleText.Name = "TitleText"
titleText.Size = UDim2.new(1, -80, 1, 0)
titleText.Position = UDim2.new(0, 10, 0, 0)
titleText.BackgroundTransparency = 1
titleText.Text = "Steal a brainrot Script"
titleText.TextColor3 = Color3.fromRGB(255, 255, 255)
titleText.TextScaled = true
titleText.Font = Enum.Font.GothamBold
titleText.Parent = titleBar

-- Minimize Button
local minimizeButton = Instance.new("TextButton")
minimizeButton.Name = "MinimizeButton"
minimizeButton.Size = UDim2.new(0, 30, 0, 30)
minimizeButton.Position = UDim2.new(1, -70, 0, 5)
minimizeButton.BackgroundColor3 = Color3.fromRGB(255, 193, 7)
minimizeButton.BorderSizePixel = 0
minimizeButton.Text = "-"
minimizeButton.TextColor3 = Color3.fromRGB(0, 0, 0)
minimizeButton.TextScaled = true
minimizeButton.Font = Enum.Font.GothamBold
minimizeButton.Parent = titleBar

local minimizeCorner = Instance.new("UICorner")
minimizeCorner.CornerRadius = UDim.new(0, 5)
minimizeCorner.Parent = minimizeButton

-- Close Button
local closeButton = Instance.new("TextButton")
closeButton.Name = "CloseButton"
closeButton.Size = UDim2.new(0, 30, 0, 30)
closeButton.Position = UDim2.new(1, -35, 0, 5)
closeButton.BackgroundColor3 = Color3.fromRGB(220, 53, 69)
closeButton.BorderSizePixel = 0
closeButton.Text = "X"
closeButton.TextColor3 = Color3.fromRGB(255, 255, 255)
closeButton.TextScaled = true
closeButton.Font = Enum.Font.GothamBold
closeButton.Parent = titleBar

local closeCorner = Instance.new("UICorner")
closeCorner.CornerRadius = UDim.new(0, 5)
closeCorner.Parent = closeButton

-- Tab Buttons Frame
local tabFrame = Instance.new("Frame")
tabFrame.Name = "TabFrame"
tabFrame.Size = UDim2.new(1, 0, 0, 40)
tabFrame.Position = UDim2.new(0, 0, 0, 40)
tabFrame.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
tabFrame.BorderSizePixel = 0
tabFrame.Parent = mainFrame

-- Tab Buttons
local tabButtons = {}
local tabs = {"Main", "Visual", "Misc"}

for i, tabName in ipairs(tabs) do
    local tabButton = Instance.new("TextButton")
    tabButton.Name = tabName .. "Tab"
    tabButton.Size = UDim2.new(1/3, -2, 1, -4)
    tabButton.Position = UDim2.new((i-1)/3, 2, 0, 2)
    tabButton.BackgroundColor3 = Color3.fromRGB(45, 45, 45)
    tabButton.BorderSizePixel = 0
    tabButton.Text = tabName
    tabButton.TextColor3 = Color3.fromRGB(255, 255, 255)
    tabButton.TextScaled = true
    tabButton.Font = Enum.Font.Gotham
    tabButton.Parent = tabFrame
    
    local tabCorner = Instance.new("UICorner")
    tabCorner.CornerRadius = UDim.new(0, 5)
    tabCorner.Parent = tabButton
    
    tabButtons[tabName] = tabButton
end

-- Content Frame
local contentFrame = Instance.new("Frame")
contentFrame.Name = "ContentFrame"
contentFrame.Size = UDim2.new(1, 0, 1, -80)
contentFrame.Position = UDim2.new(0, 0, 0, 80)
contentFrame.BackgroundTransparency = 1
contentFrame.Parent = mainFrame

-- Function to create buttons
local function createButton(name, position, parent, callback)
    local button = Instance.new("TextButton")
    button.Name = name
    button.Size = UDim2.new(1, -20, 0, 35)
    button.Position = position
    button.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
    button.BorderSizePixel = 0
    button.Text = name
    button.TextColor3 = Color3.fromRGB(255, 255, 255)
    button.TextScaled = true
    button.Font = Enum.Font.Gotham
    button.Parent = parent
    
    local buttonCorner = Instance.new("UICorner")
    buttonCorner.CornerRadius = UDim.new(0, 8)
    buttonCorner.Parent = button
    
    button.MouseButton1Click:Connect(callback)
    
    return button
end

-- Tab Content Frames
local tabContents = {}

for _, tabName in ipairs(tabs) do
    local tabContent = Instance.new("Frame")
    tabContent.Name = tabName .. "Content"
    tabContent.Size = UDim2.new(1, 0, 1, 0)
    tabContent.Position = UDim2.new(0, 0, 0, 0)
    tabContent.BackgroundTransparency = 1
    tabContent.Visible = (tabName == "Main")
    tabContent.Parent = contentFrame
    
    tabContents[tabName] = tabContent
end

-- Main Tab Content
local infiniteJumpButton = createButton("Infinite Jump", UDim2.new(0, 10, 0, 10), tabContents["Main"], function()
    infiniteJumpEnabled = not infiniteJumpEnabled
    infiniteJumpButton.BackgroundColor3 = infiniteJumpEnabled and Color3.fromRGB(40, 167, 69) or Color3.fromRGB(60, 60, 60)
end)

local speedHackButton = createButton("Speed Hack", UDim2.new(0, 10, 0, 55), tabContents["Main"], function()
    speedHackEnabled = not speedHackEnabled
    speedHackButton.BackgroundColor3 = speedHackEnabled and Color3.fromRGB(40, 167, 69) or Color3.fromRGB(60, 60, 60)
    
    if player.Character and player.Character:FindFirstChild("Humanoid") then
        if speedHackEnabled then
            player.Character.Humanoid.WalkSpeed = originalWalkSpeed * 1.5
        else
            player.Character.Humanoid.WalkSpeed = originalWalkSpeed
        end
    end
end)

local floatButton = createButton("Float", UDim2.new(0, 10, 0, 100), tabContents["Main"], function()
    -- Create Float GUI
    createFloatGUI()
end)

local teleportButton = createButton("Teleport", UDim2.new(0, 10, 0, 145), tabContents["Main"], function()
    -- Create Teleport GUI
    createTeleportGUI()
end)

-- Visual Tab Content
local espButton = createButton("ESP Players", UDim2.new(0, 10, 0, 10), tabContents["Visual"], function()
    espEnabled = not espEnabled
    espButton.BackgroundColor3 = espEnabled and Color3.fromRGB(40, 167, 69) or Color3.fromRGB(60, 60, 60)
    
    if espEnabled then
        enableESP()
    else
        disableESP()
    end
end)

-- Misc Tab Content
local soonLabel = Instance.new("TextLabel")
soonLabel.Name = "SoonLabel"
soonLabel.Size = UDim2.new(1, -20, 0, 50)
soonLabel.Position = UDim2.new(0, 10, 0, 10)
soonLabel.BackgroundTransparency = 1
soonLabel.Text = "Soon..."
soonLabel.TextColor3 = Color3.fromRGB(150, 150, 150)
soonLabel.TextScaled = true
soonLabel.Font = Enum.Font.GothamBold
soonLabel.Parent = tabContents["Misc"]

-- Float GUI Function
function createFloatGUI()
    local floatGui = Instance.new("Frame")
    floatGui.Name = "FloatGUI"
    floatGui.Size = UDim2.new(0, 200, 0, 120)
    floatGui.Position = UDim2.new(0.5, -100, 0.5, -60)
    floatGui.BackgroundColor3 = Color3.fromRGB(25, 25, 25)
    floatGui.BorderSizePixel = 0
    floatGui.Active = true
    floatGui.Draggable = true
    floatGui.Parent = screenGui
    
    local floatCorner = Instance.new("UICorner")
    floatCorner.CornerRadius = UDim.new(0, 10)
    floatCorner.Parent = floatGui
    
    local floatTitle = Instance.new("TextLabel")
    floatTitle.Size = UDim2.new(1, -30, 0, 30)
    floatTitle.Position = UDim2.new(0, 10, 0, 5)
    floatTitle.BackgroundTransparency = 1
    floatTitle.Text = "Float Control"
    floatTitle.TextColor3 = Color3.fromRGB(255, 255, 255)
    floatTitle.TextScaled = true
    floatTitle.Font = Enum.Font.GothamBold
    floatTitle.Parent = floatGui
    
    local floatCloseButton = Instance.new("TextButton")
    floatCloseButton.Size = UDim2.new(0, 20, 0, 20)
    floatCloseButton.Position = UDim2.new(1, -25, 0, 5)
    floatCloseButton.BackgroundColor3 = Color3.fromRGB(220, 53, 69)
    floatCloseButton.BorderSizePixel = 0
    floatCloseButton.Text = "X"
    floatCloseButton.TextColor3 = Color3.fromRGB(255, 255, 255)
    floatCloseButton.TextScaled = true
    floatCloseButton.Font = Enum.Font.GothamBold
    floatCloseButton.Parent = floatGui
    
    local floatCloseCorner = Instance.new("UICorner")
    floatCloseCorner.CornerRadius = UDim.new(0, 5)
    floatCloseCorner.Parent = floatCloseButton
    
    local upButton = createButton("Up", UDim2.new(0, 10, 0, 40), floatGui, function()
        if player.Character and player.Character:FindFirstChild("HumanoidRootPart") then
            player.Character.HumanoidRootPart.CFrame = player.Character.HumanoidRootPart.CFrame + Vector3.new(0, 165, 0)
        end
    end)
    
    local downButton = createButton("Down", UDim2.new(0, 10, 0, 80), floatGui, function()
        if player.Character and player.Character:FindFirstChild("HumanoidRootPart") then
            player.Character.HumanoidRootPart.CFrame = player.Character.HumanoidRootPart.CFrame - Vector3.new(0, 50, 0)
        end
    end)
    
    floatCloseButton.MouseButton1Click:Connect(function()
        floatGui:Destroy()
    end)
end

-- Teleport GUI Function
function createTeleportGUI()
    local tpGui = Instance.new("Frame")
    tpGui.Name = "TeleportGUI"
    tpGui.Size = UDim2.new(0, 200, 0, 120)
    tpGui.Position = UDim2.new(0.5, -100, 0.5, -60)
    tpGui.BackgroundColor3 = Color3.fromRGB(25, 25, 25)
    tpGui.BorderSizePixel = 0
    tpGui.Active = true
    tpGui.Draggable = true
    tpGui.Parent = screenGui
    
    local tpCorner = Instance.new("UICorner")
    tpCorner.CornerRadius = UDim.new(0, 10)
    tpCorner.Parent = tpGui
    
    local tpTitle = Instance.new("TextLabel")
    tpTitle.Size = UDim2.new(1, -30, 0, 30)
    tpTitle.Position = UDim2.new(0, 10, 0, 5)
    tpTitle.BackgroundTransparency = 1
    tpTitle.Text = "Teleport Control"
    tpTitle.TextColor3 = Color3.fromRGB(255, 255, 255)
    tpTitle.TextScaled = true
    tpTitle.Font = Enum.Font.GothamBold
    tpTitle.Parent = tpGui
    
    local tpCloseButton = Instance.new("TextButton")
    tpCloseButton.Size = UDim2.new(0, 20, 0, 20)
    tpCloseButton.Position = UDim2.new(1, -25, 0, 5)
    tpCloseButton.BackgroundColor3 = Color3.fromRGB(220, 53, 69)
    tpCloseButton.BorderSizePixel = 0
    tpCloseButton.Text = "X"
    tpCloseButton.TextColor3 = Color3.fromRGB(255, 255, 255)
    tpCloseButton.TextScaled = true
    tpCloseButton.Font = Enum.Font.GothamBold
    tpCloseButton.Parent = tpGui
    
    local tpCloseCorner = Instance.new("UICorner")
    tpCloseCorner.CornerRadius = UDim.new(0, 5)
    tpCloseCorner.Parent = tpCloseButton
    
    local setBaseButton = createButton("Set Base", UDim2.new(0, 10, 0, 40), tpGui, function()
        if player.Character and player.Character:FindFirstChild("HumanoidRootPart") then
            basePosition = player.Character.HumanoidRootPart.Position
            -- Visual feedback
            setBaseButton.BackgroundColor3 = Color3.fromRGB(40, 167, 69)
            wait(0.2)
            setBaseButton.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
        end
    end)
    
    local tpBaseButton = createButton("TP Base", UDim2.new(0, 10, 0, 80), tpGui, function()
        if basePosition and player.Character and player.Character:FindFirstChild("HumanoidRootPart") then
            -- Advanced teleport with bypass
            local function teleportWithBypass()
                local attempts = 0
                local maxAttempts = 10
                
                local function attemptTeleport()
                    attempts = attempts + 1
                    if attempts > maxAttempts then
                        return
                    end
                    
                    local rootPart = player.Character:FindFirstChild("HumanoidRootPart")
                    if rootPart then
                        local originalPosition = rootPart.Position
                        rootPart.CFrame = CFrame.new(basePosition)
                        
                        -- Check if teleport was successful
                        wait(0.1)
                        if (rootPart.Position - basePosition).Magnitude > 10 then
                            -- Teleport failed, try again
                            attemptTeleport()
                        end
                    end
                end
                
                attemptTeleport()
            end
            
            teleportWithBypass()
        end
    end)
    
    tpCloseButton.MouseButton1Click:Connect(function()
        tpGui:Destroy()
    end)
end

-- ESP Functions
function enableESP()
    for _, otherPlayer in pairs(Players:GetPlayers()) do
        if otherPlayer ~= player and otherPlayer.Character and otherPlayer.Character:FindFirstChild("HumanoidRootPart") then
            createESPForPlayer(otherPlayer)
        end
    end
    
    -- Connect to new players
    connections.playerAdded = Players.PlayerAdded:Connect(function(newPlayer)
        newPlayer.CharacterAdded:Connect(function(character)
            if espEnabled then
                wait(1)
                createESPForPlayer(newPlayer)
            end
        end)
    end)
end

function disableESP()
    for _, espObject in pairs(espObjects) do
        if espObject then
            espObject:Destroy()
        end
    end
    espObjects = {}
    
    if connections.playerAdded then
        connections.playerAdded:Disconnect()
    end
end

function createESPForPlayer(targetPlayer)
    if not targetPlayer.Character or not targetPlayer.Character:FindFirstChild("HumanoidRootPart") then
        return
    end
    
    local character = targetPlayer.Character
    local rootPart = character.HumanoidRootPart
    
    -- Create highlight
    local highlight = Instance.new("Highlight")
    highlight.Name = "ESP_" .. targetPlayer.Name
    highlight.FillColor = Color3.fromRGB(0, 162, 255)
    highlight.OutlineColor = Color3.fromRGB(0, 162, 255)
    highlight.FillTransparency = 0.5
    highlight.OutlineTransparency = 0
    highlight.Parent = character
    
    espObjects[targetPlayer.Name] = highlight
    
    -- Clean up when character is removed
    character.AncestryChanged:Connect(function()
        if not character.Parent then
            if espObjects[targetPlayer.Name] then
                espObjects[targetPlayer.Name]:Destroy()
                espObjects[targetPlayer.Name] = nil
            end
        end
    end)
end

-- Infinite Jump Function
local function handleInfiniteJump()
    if infiniteJumpEnabled and player.Character and player.Character:FindFirstChild("Humanoid") then
        local humanoid = player.Character.Humanoid
        
        if UserInputService:IsKeyDown(Enum.KeyCode.Space) then
            humanoid:ChangeState(Enum.HumanoidStateType.Jumping)
        end
    end
end

-- Tab Switching
for tabName, tabButton in pairs(tabButtons) do
    tabButton.MouseButton1Click:Connect(function()
        for _, content in pairs(tabContents) do
            content.Visible = false
        end
        
        for _, button in pairs(tabButtons) do
            button.BackgroundColor3 = Color3.fromRGB(45, 45, 45)
        end
        
        tabContents[tabName].Visible = true
        tabButton.BackgroundColor3 = Color3.fromRGB(0, 123, 255)
    end)
end

-- Set initial tab
tabButtons["Main"].BackgroundColor3 = Color3.fromRGB(0, 123, 255)

-- Minimize/Close Functions
local isMinimized = false

minimizeButton.MouseButton1Click:Connect(function()
    isMinimized = not isMinimized
    
    if isMinimized then
        local tween = TweenService:Create(mainFrame, TweenInfo.new(0.3), {Size = UDim2.new(0, 400, 0, 40)})
        tween:Play()
        tabFrame.Visible = false
        contentFrame.Visible = false
        minimizeButton.Text = "+"
    else
        local tween = TweenService:Create(mainFrame, TweenInfo.new(0.3), {Size = UDim2.new(0, 400, 0, 300)})
        tween:Play()
        tabFrame.Visible = true
        contentFrame.Visible = true
        minimizeButton.Text = "-"
    end
end)

closeButton.MouseButton1Click:Connect(function()
    -- Clean up
    disableESP()
    for _, connection in pairs(connections) do
        if connection then
            connection:Disconnect()
        end
    end
    
    screenGui:Destroy()
end)

-- Main Loop
connections.heartbeat = RunService.Heartbeat:Connect(function()
    handleInfiniteJump()
end)

-- Player Character Spawned
connections.characterAdded = player.CharacterAdded:Connect(function(character)
    wait(1)
    if speedHackEnabled and character:FindFirstChild("Humanoid") then
        character.Humanoid.WalkSpeed = originalWalkSpeed * 1.5
    end
    
    if espEnabled then
        wait(1)
        enableESP()
    end
end)

print("Steal a brainrot Script loaded successfully!")
