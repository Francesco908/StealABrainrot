-- Carica la versione mobile di Rayfield
local Rayfield = loadstring(game:HttpGet('https://raw.githubusercontent.com/jensonhirst/Rayfield/main/source'))()

-- Variabile contatore
local BrainrotRubati = 0

-- Crea la finestra principale con impostazioni mobile
local FinestraPrincipale = Rayfield:CreateWindow({
	Name = "ðŸ§  BRAINROT HEIST",
	LoadingTitle = "Caricamento...",
	LoadingSubtitle = "Mobile Edition",
	ConfigurationSaving = { Enabled = false },
	KeySystem = false,
    MobileCompatible = true -- Abilita il supporto mobile
})

-- Sezione per lo steal
local SezioneSteal = FinestraPrincipale:CreateSection("Instant Steal")

-- Contatore
local Contatore = FinestraPrincipale:CreateLabel("Brainrot Rubati: 0")

-- Pulsante per rubare (ottimizzato per touch)
local PulsanteSteal = FinestraPrincipale:CreateButton({
	Name = "ðŸ‘† TOCCA PER RUBARE",
    Hold = true, -- Abilita la funzionalitÃ  di hold per mobile
    Callback = function()
        -- Non necessario, gestiamo l'hold separatamente
    end,
})

-- Funzione per rubare
local function RubaBrainrot()
    BrainrotRubati += 1
    Contatore:Set("Brainrot Rubati: "..BrainrotRubati)
    
    -- Effetto visivo per mobile
    local originalColor = Contatore.Instance.TextColor3
    game:GetService("TweenService"):Create(
        Contatore.Instance, 
        TweenInfo.new(0.1), 
        {TextColor3 = Color3.fromRGB(0, 255, 0)}
    ):Play()
    task.wait(0.15)
    game:GetService("TweenService"):Create(
        Contatore.Instance, 
        TweenInfo.new(0.1), 
        {TextColor3 = originalColor}
    ):Play()
    
    -- Effetto sonoro (opzionale)
    if script:FindFirstChild("StealSound") then
        script.StealSound:Play()
    end
end

-- Rilevatore di input per mobile
local function SetupStealButton()
    local button = PulsanteSteal.Instance
    local touchCount = 0
    local lastSteal = 0
    
    -- Touch iniziato
    button.InputBegan:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.Touch then
            touchCount += 1
            local currentTouch = touchCount
            
            -- Ruba immediatamente al primo touch
            RubaBrainrot()
            lastSteal = time()
            
            -- Continua a rubare finchÃ© il dito Ã¨ premuto
            while currentTouch == touchCount and time() - lastSteal < 10 do
                task.wait(0.15) -- Intervallo tra i rubamenti
                RubaBrainrot()
                lastSteal = time()
            end
        end
    end)
    
    -- Touch rilasciato
    button.InputEnded:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.Touch then
            touchCount += 1
        end
    end)
end

-- Pulsante per aprire/chiudere la GUI
local ToggleButton = Rayfield:CreateButton({
	Name = "ðŸ“± APRI/CHIUDI",
	Callback = function()
		FinestraPrincipale:Toggle()
	end,
})

-- Setup iniziale
SetupStealButton()

-- Carica un suono opzionale (crea un oggetto Sound nello script)
local sound = Instance.new("Sound")
sound.SoundId = "rbxassetid://9046898040" -- Suono di monete
sound.Volume = 0.5
sound.Name = "StealSound"
sound.Parent = script

-- Nascondi la finestra all'avvio
task.wait(1)
FinestraPrincipale:Hide()
