local Rayfield = loadstring(game:HttpGet('https://sirius.menu/rayfield'))()

local Window = Rayfield:CreateWindow({
   Name = "🔧 Mobile Admin Tools",
   LoadingTitle = "Loading advanced tools...",
   LoadingSubtitle = "Premium Edition",
   ConfigurationSaving = {
      Enabled = true,
      FolderName = "MobileToolsConfig",
      FileName = "PremiumConfig"
   }
})

local Players = game:GetService("Players")
local UserInputService = game:GetService("UserInputService")
local RunService = game:GetService("RunService")
local CoreGui = game:GetService("CoreGui")
local TweenService = game:GetService("TweenService")
local ProximityPromptService = game:GetService("ProximityPromptService")

local Player = Players.LocalPlayer
local Camera = workspace.CurrentCamera
local SpawnPosition = nil

-- Variables
local Connections = {}
local ESPCache = {}
local AirJumpEnabled = false
local SpeedBoostActive = false
local SpeedBoostButton = nil
local FloatEnabled = false
local StealGUI = nil
local StealHelperEnabled = false
local AntiAFKEnabled = false
local FloatBodyVelocity = nil
local FloatBodyPosition = nil

-- Utility Functions
local function notify(title, content, duration)
   Rayfield:Notify({
      Title = title,
      Content = content,
      Duration = duration or 3,
      Image = 13014546637,
   })
end

local function createGradient(parent, colors)
   local gradient = Instance.new("UIGradient")
   gradient.Color = ColorSequence.new(colors)
   gradient.Rotation = 45
   gradient.Parent = parent
   return gradient
end

local function createShadow(parent)
   local shadow = Instance.new("ImageLabel")
   shadow.Name = "Shadow"
   shadow.Size = UDim2.new(1, 6, 1, 6)
   shadow.Position = UDim2.new(0, -3, 0, -3)
   shadow.BackgroundTransparency = 1
   shadow.Image = "rbxasset://textures/ui/Controls/DropShadow.png"
   shadow.ImageColor3 = Color3.new(0, 0, 0)
   shadow.ImageTransparency = 0.5
   shadow.ScaleType = Enum.ScaleType.Slice
   shadow.SliceCenter = Rect.new(12, 12, 12, 12)
   shadow.ZIndex = parent.ZIndex - 1
   shadow.Parent = parent.Parent
   return shadow
end

local function createCorner(parent, radius)
   local corner = Instance.new("UICorner")
   corner.CornerRadius = UDim.new(radius or 0.1, 0)
   corner.Parent = parent
   return corner
end

local function makeDraggable(gui)
   local dragging = false
   local dragStart = nil
   local startPos = nil
   
   local function onInputBegan(input)
      if input.UserInputType == Enum.UserInputType.Touch then
         dragging = true
         dragStart = input.Position
         startPos = gui.Position
      end
   end
   
   local function onInputChanged(input)
      if dragging and input.UserInputType == Enum.UserInputType.Touch then
         local delta = input.Position - dragStart
         gui.Position = UDim2.new(
            startPos.X.Scale, 
            startPos.X.Offset + delta.X,
            startPos.Y.Scale, 
            startPos.Y.Offset + delta.Y
         )
      end
   end
   
   local function onInputEnded(input)
      if input.UserInputType == Enum.UserInputType.Touch then
         dragging = false
      end
   end
   
   gui.InputBegan:Connect(onInputBegan)
   UserInputService.InputChanged:Connect(onInputChanged)
   UserInputService.InputEnded:Connect(onInputEnded)
end

-- Get spawn position
local function getSpawnPosition()
   if not SpawnPosition then
      local character = Player.Character
      if character and character:FindFirstChild("HumanoidRootPart") then
         SpawnPosition = character.HumanoidRootPart.Position
      end
   end
   return SpawnPosition
end

-- Tab Main
local MainTab = Window:CreateTab("Main", 13014546637)
local MainSection = MainTab:CreateSection("Core Features")

-- Enhanced Air Jump
local AirJumpToggle = MainTab:CreateToggle({
   Name = "🦘 Air Jump",
   CurrentValue = false,
   Flag = "AirJump",
   Callback = function(Value)
      AirJumpEnabled = Value
      if Value then
         notify("Air Jump Enabled", "Touch screen to jump in air")
      end
   end,
})

-- Mobile air jump
Connections.AirJump = UserInputService.TouchTap:Connect(function(_, processed)
   if processed or not AirJumpEnabled then return end
   
   local character = Player.Character
   if not character then return end
   
   local humanoid = character:FindFirstChildOfClass("Humanoid")
   local rootPart = character:FindFirstChild("HumanoidRootPart")
   
   if humanoid and rootPart then
      local bodyVelocity = Instance.new("BodyVelocity")
      bodyVelocity.MaxForce = Vector3.new(0, math.huge, 0)
      bodyVelocity.Velocity = Vector3.new(0, 60, 0)
      bodyVelocity.Parent = rootPart
      
      game:GetService("Debris"):AddItem(bodyVelocity, 0.3)
   end
end)

-- Enhanced Speed Boost with Bypass
local SpeedBoostToggle = MainTab:CreateToggle({
   Name = "🚀 Speed Boost",
   CurrentValue = false,
   Flag = "SpeedBoost",
   Callback = function(Value)
      if Value then
         local gui = Instance.new("ScreenGui")
         gui.Name = "SpeedBoostGUI"
         gui.Parent = CoreGui
         gui.ResetOnSpawn = false
         
         local button = Instance.new("TextButton")
         button.Size = UDim2.new(0.15, 0, 0.08, 0)
         button.Position = UDim2.new(0.83, 0, 0.7, 0)
         button.BackgroundColor3 = Color3.fromRGB(40, 40, 50)
         button.TextColor3 = Color3.new(1, 1, 1)
         button.Text = "💨 OFF"
         button.Font = Enum.Font.GothamBold
         button.TextSize = 16
         button.BorderSizePixel = 0
         button.ZIndex = 10
         button.Parent = gui
         
         createCorner(button, 0.25)
         createGradient(button, {Color3.fromRGB(255, 100, 100), Color3.fromRGB(255, 150, 150)})
         createShadow(button)
         makeDraggable(button)
         
         -- Glow effect
         local glow = Instance.new("Frame")
         glow.Size = UDim2.new(1.2, 0, 1.2, 0)
         glow.Position = UDim2.new(-0.1, 0, -0.1, 0)
         glow.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
         glow.BackgroundTransparency = 0.8
         glow.BorderSizePixel = 0
         glow.ZIndex = button.ZIndex - 1
         glow.Parent = button
         createCorner(glow, 0.25)
         
         button.MouseButton1Click:Connect(function()
            SpeedBoostActive = not SpeedBoostActive
            button.Text = SpeedBoostActive and "💨 ON" or "💨 OFF"
            
            if SpeedBoostActive then
               createGradient(button, {Color3.fromRGB(100, 255, 100), Color3.fromRGB(150, 255, 150)})
               glow.BackgroundColor3 = Color3.fromRGB(100, 255, 100)
            else
               createGradient(button, {Color3.fromRGB(255, 100, 100), Color3.fromRGB(255, 150, 150)})
               glow.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
            end
            
            -- Pulse animation
            local pulse = TweenService:Create(button, TweenInfo.new(0.2, Enum.EasingStyle.Quad), {Size = UDim2.new(0.18, 0, 0.09, 0)})
            pulse:Play()
            pulse.Completed:Connect(function()
               TweenService:Create(button, TweenInfo.new(0.2, Enum.EasingStyle.Quad), {Size = UDim2.new(0.15, 0, 0.08, 0)}):Play()
            end)
         end)
         
         SpeedBoostButton = button
      else
         if SpeedBoostButton then
            SpeedBoostButton.Parent:Destroy()
            SpeedBoostButton = nil
            SpeedBoostActive = false
         end
      end
   end,
})

-- Enhanced Float Mode with Auto Base Return
local FloatToggle = MainTab:CreateToggle({
   Name = "✨ Float Mode",
   CurrentValue = false,
   Flag = "FloatMode",
   Callback = function(Value)
      FloatEnabled = Value
      if Value then
         local character = Player.Character
         if character then
            local rootPart = character:FindFirstChild("HumanoidRootPart")
            if rootPart then
               local spawnPos = getSpawnPosition()
               if spawnPos then
                  notify("Float Mode Enabled", "Flying to base area...")
                  
                  -- Create body movers for smooth flight
                  FloatBodyPosition = Instance.new("BodyPosition")
                  FloatBodyPosition.MaxForce = Vector3.new(4000, 4000, 4000)
                  FloatBodyPosition.Position = spawnPos + Vector3.new(0, 50, 0)
                  FloatBodyPosition.Parent = rootPart
                  
                  FloatBodyVelocity = Instance.new("BodyVelocity")
                  FloatBodyVelocity.MaxForce = Vector3.new(0, math.huge, 0)
                  FloatBodyVelocity.Velocity = Vector3.new(0, 0, 0)
                  FloatBodyVelocity.Parent = rootPart
                  
                  -- Wait then return to base
                  task.wait(3)
                  if FloatBodyPosition then
                     FloatBodyPosition.Position = spawnPos
                  end
               end
            end
         end
      else
         if FloatBodyPosition then
            FloatBodyPosition:Destroy()
            FloatBodyPosition = nil
         end
         if FloatBodyVelocity then
            FloatBodyVelocity:Destroy()
            FloatBodyVelocity = nil
         end
      end
   end,
})

-- Enhanced Steal Helper
local StealHelperToggle = MainTab:CreateToggle({
   Name = "🎯 Steal Helper",
   CurrentValue = false,
   Flag = "StealHelper",
   Callback = function(Value)
      StealHelperEnabled = Value
      
      if Value then
         StealGUI = Instance.new("ScreenGui")
         StealGUI.Name = "StealHelperGUI"
         StealGUI.Parent = CoreGui
         StealGUI.ResetOnSpawn = false
         
         local mainFrame = Instance.new("Frame")
         mainFrame.Size = UDim2.new(0.3, 0, 0.2, 0)
         mainFrame.Position = UDim2.new(0.02, 0, 0.65, 0)
         mainFrame.BackgroundColor3 = Color3.fromRGB(25, 25, 35)
         mainFrame.BorderSizePixel = 0
         mainFrame.Parent = StealGUI
         
         createCorner(mainFrame, 0.15)
         createGradient(mainFrame, {Color3.fromRGB(30, 30, 40), Color3.fromRGB(50, 50, 60)})
         createShadow(mainFrame)
         makeDraggable(mainFrame)
         
         -- Glass effect
         local glass = Instance.new("Frame")
         glass.Size = UDim2.new(1, 0, 1, 0)
         glass.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
         glass.BackgroundTransparency = 0.95
         glass.BorderSizePixel = 0
         glass.Parent = mainFrame
         createCorner(glass, 0.15)
         
         -- Close button
         local closeButton = Instance.new("TextButton")
         closeButton.Size = UDim2.new(0.15, 0, 0.25, 0)
         closeButton.Position = UDim2.new(0.83, 0, 0.02, 0)
         closeButton.BackgroundColor3 = Color3.fromRGB(255, 80, 80)
         closeButton.Text = "✕"
         closeButton.TextColor3 = Color3.new(1, 1, 1)
         closeButton.Font = Enum.Font.GothamBold
         closeButton.TextSize = 20
         closeButton.BorderSizePixel = 0
         closeButton.Parent = mainFrame
         
         createCorner(closeButton, 0.5)
         createGradient(closeButton, {Color3.fromRGB(255, 100, 100), Color3.fromRGB(255, 120, 120)})
         
         closeButton.MouseButton1Click:Connect(function()
            StealGUI:Destroy()
            StealGUI = nil
            StealHelperEnabled = false
            StealHelperToggle:Set(false)
         end)
         
         -- Enhanced Up/Down system
         local isUp = true
         local currentY = 0
         
         local moveButton = Instance.new("TextButton")
         moveButton.Size = UDim2.new(0.8, 0, 0.5, 0)
         moveButton.Position = UDim2.new(0.1, 0, 0.3, 0)
         moveButton.Text = "⬆️ UP (+156)"
         moveButton.TextSize = 20
         moveButton.TextColor3 = Color3.new(1, 1, 1)
         moveButton.BackgroundColor3 = Color3.fromRGB(80, 200, 80)
         moveButton.Font = Enum.Font.GothamBold
         moveButton.BorderSizePixel = 0
         moveButton.Parent = mainFrame
         
         createCorner(moveButton, 0.2)
         createGradient(moveButton, {Color3.fromRGB(100, 220, 100), Color3.fromRGB(120, 240, 120)})
         createShadow(moveButton)
         
         moveButton.MouseButton1Click:Connect(function()
            local character = Player.Character
            if character then
               local rootPart = character:FindFirstChild("HumanoidRootPart")
               if rootPart then
                  local currentPos = rootPart.Position
                  
                  if isUp then
                     currentY = currentY + 156
                     rootPart.CFrame = CFrame.new(currentPos.X, currentPos.Y + 156, currentPos.Z)
                     moveButton.Text = "⬇️ DOWN (-50)"
                     createGradient(moveButton, {Color3.fromRGB(220, 100, 100), Color3.fromRGB(240, 120, 120)})
                  else
                     currentY = math.max(currentY - 50, 0)
                     rootPart.CFrame = CFrame.new(currentPos.X, currentPos.Y - 50, currentPos.Z)
                     moveButton.Text = "⬆️ UP (+156)"
                     createGradient(moveButton, {Color3.fromRGB(100, 220, 100), Color3.fromRGB(120, 240, 120)})
                  end
                  isUp = not isUp
                  
                  -- Button press animation
                  local press = TweenService:Create(moveButton, TweenInfo.new(0.1), {Size = UDim2.new(0.75, 0, 0.45, 0)})
                  press:Play()
                  press.Completed:Connect(function()
                     TweenService:Create(moveButton, TweenInfo.new(0.1), {Size = UDim2.new(0.8, 0, 0.5, 0)}):Play()
                  end)
               end
            end
         end)
         
         -- Enhanced coordinate display
         local coordLabel = Instance.new("TextLabel")
         coordLabel.Size = UDim2.new(1, 0, 0.2, 0)
         coordLabel.Position = UDim2.new(0, 0, 0.8, 0)
         coordLabel.Text = "X:0 Y:0 Z:0"
         coordLabel.TextColor3 = Color3.fromRGB(200, 200, 200)
         coordLabel.BackgroundTransparency = 1
         coordLabel.Font = Enum.Font.GothamBold
         coordLabel.TextSize = 14
         coordLabel.TextScaled = true
         coordLabel.Parent = mainFrame
         
         -- Real-time coordinate updater
         task.spawn(function()
            while StealGUI and StealGUI.Parent do
               local character = Player.Character
               if character then
                  local rootPart = character:FindFirstChild("HumanoidRootPart")
                  if rootPart then
                     local pos = rootPart.Position
                     coordLabel.Text = string.format("X:%d Y:%d Z:%d", 
                        math.floor(pos.X), math.floor(pos.Y), math.floor(pos.Z))
                  end
               end
               task.wait(0.1)
            end
         end)
         
         notify("Steal Helper Active", "Enhanced GUI loaded")
      else
         if StealGUI then
            StealGUI:Destroy()
            StealGUI = nil
         end
      end
   end,
})

-- Visual Tab
local VisualTab = Window:CreateTab("Visual", 13014546637)
local VisualSection = VisualTab:CreateSection("Visual Settings")

-- Enhanced Player ESP
VisualTab:CreateToggle({
   Name = "👤 Player ESP",
   CurrentValue = false,
   Flag = "PlayerESP",
   Callback = function(Value)
      if Value then
         for _, highlight in pairs(ESPCache) do
            if highlight then highlight:Destroy() end
         end
         table.clear(ESPCache)
         
         for _, player in ipairs(Players:GetPlayers()) do
            if player ~= Player and player.Character then
               local highlight = Instance.new("Highlight")
               highlight.Name = "PlayerESP"
               highlight.FillColor = Color3.fromRGB(100, 200, 255)
               highlight.OutlineColor = Color3.fromRGB(0, 150, 255)
               highlight.FillTransparency = 0.3
               highlight.OutlineTransparency = 0
               highlight.Parent = player.Character
               ESPCache[player] = highlight
            end
         end
         
         notify("Player ESP Enabled", "Enhanced visibility active")
      else
         for _, highlight in pairs(ESPCache) do
            if highlight then highlight:Destroy() end
         end
         table.clear(ESPCache)
      end
   end,
})

-- Misc Tab
local MiscTab = Window:CreateTab("Misc", 13014546637)
local UtilitySection = MiscTab:CreateSection("Utility Features")

-- Anti-AFK
MiscTab:CreateToggle({
   Name = "🚫 Anti AFK",
   CurrentValue = false,
   Flag = "AntiAFK",
   Callback = function(Value)
      AntiAFKEnabled = Value
      if Value then
         notify("Anti-AFK Enabled", "Mobile optimized protection")
      end
   end,
})

-- Shop Section
local ShopSection = MiscTab:CreateSection("🛒 Shop Items")

local shopItems = {
   {name = "Invisibility Cloak", price = "1000", description = "Become invisible"},
   {name = "Bee Launcher", price = "2500", description = "Launch explosive bees"},
   {name = "Medusa's Head", price = "3000", description = "Turn enemies to stone"},
   {name = "Quantum Cloner", price = "5000", description = "Create duplicates"},
   {name = "Rainbowrath Sword", price = "7500", description = "Legendary sword"},
}

local function buyItem(item)
   notify("Searching Map...", "Looking for " .. item.name, 2)
   task.wait(1.5)
   notify("Purchase Complete!", item.name .. " acquired", 4)
end

for _, item in ipairs(shopItems) do
   MiscTab:CreateButton({
      Name = "🛒 " .. item.name .. " (" .. item.price .. ")",
      Callback = function()
         buyItem(item)
      end,
   })
end

-- Enhanced Core Loop
Connections.MainLoop = RunService.Heartbeat:Connect(function()
   local character = Player.Character
   if not character then return end
   
   local humanoid = character:FindFirstChildOfClass("Humanoid")
   local rootPart = character:FindFirstChild("HumanoidRootPart")
   
   -- Bypassed Speed Boost
   if SpeedBoostActive and humanoid and rootPart then
      humanoid.WalkSpeed = 200
      humanoid.JumpPower = 100
      
      -- Additional speed bypass
      local bodyVelocity = rootPart:FindFirstChild("SpeedBoost")
      if not bodyVelocity then
         bodyVelocity = Instance.new("BodyVelocity")
         bodyVelocity.Name = "SpeedBoost"
         bodyVelocity.MaxForce = Vector3.new(4000, 0, 4000)
         bodyVelocity.Velocity = Vector3.new(0, 0, 0)
         bodyVelocity.Parent = rootPart
      end
      
      local moveVector = humanoid.MoveDirection
      if moveVector.Magnitude > 0 then
         bodyVelocity.Velocity = moveVector * 150
      else
         bodyVelocity.Velocity = Vector3.new(0, 0, 0)
      end
   else
      local bodyVelocity = rootPart and rootPart:FindFirstChild("SpeedBoost")
      if bodyVelocity then
         bodyVelocity:Destroy()
      end
   end
   
   -- Mobile Anti-AFK
   if AntiAFKEnabled then
      -- Simulate random touches
      local random = math.random(1, 1000)
      if random == 1 then
         -- Minimal movement to prevent AFK
         if rootPart then
            rootPart.CFrame = rootPart.CFrame * CFrame.new(0, 0, 0.1)
            task.wait(0.1)
            rootPart.CFrame = rootPart.CFrame * CFrame.new(0, 0, -0.1)
         end
      end
   end
   
   -- Enhanced Steal Helper
   if StealHelperEnabled then
      for _, prompt in ipairs(ProximityPromptService:GetPrompts()) do
         prompt.HoldDuration = 0
         prompt.RequiresLineOfSight = false
         prompt.MaxActivationDistance = 150
      end
   end
end)

-- Cleanup function
local function cleanup()
   for _, connection in pairs(Connections) do
      if connection then connection:Disconnect() end
   end
   
   if StealGUI then StealGUI:Destroy() end
   if SpeedBoostButton then SpeedBoostButton.Parent:Destroy() end
   if FloatBodyPosition then FloatBodyPosition:Destroy() end
   if FloatBodyVelocity then FloatBodyVelocity:Destroy() end
   
   for _, highlight in pairs(ESPCache) do
      if highlight then highlight:Destroy() end
   end
   
   local character = Player.Character
   if character then
      local speedBoost = character:FindFirstChild("HumanoidRootPart") and character.HumanoidRootPart:FindFirstChild("SpeedBoost")
      if speedBoost then speedBoost:Destroy() end
   end
end

-- Character respawn handler
Connections.CharacterAdded = Player.CharacterAdded:Connect(function()
   SpawnPosition = nil
   task.wait(2)
   getSpawnPosition()
end)

-- Unload button
MiscTab:CreateButton({
   Name = "🔴 Unload Interface",
   Callback = function()
      cleanup()
      Rayfield:Destroy()
   end,
})

-- Store initial spawn position
getSpawnPosition()

notify("Premium Tools Loaded", "Mobile optimized with beautiful GUI!", 5)
