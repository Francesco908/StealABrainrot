local Rayfield = loadstring(game:HttpGet('https://sirius.menu/rayfield'))()

local Window = Rayfield:CreateWindow({
    Name = "✨ Ultimate Combat Hub",
    LoadingTitle = "Loading Universal Combat Hub...",
    LoadingSubtitle = "by OnlyRobloxScript",
    ConfigurationSaving = {
        Enabled = true,
        FolderName = "UltimateScriptHub",
        FileName = "Config"
    },
    KeySystem = false,
    KeySettings = {
        Title = "Auth Required",
        Subtitle = "Enter key to continue",
        Note = "Join Discord for key",
        FileName = "Key",
        SaveKey = true,
        Key = "brainrot"
    }
})

-- Combat Tab with Kill Aura
local CombatTab = Window:CreateTab("⚔️ Combat", 6022668888)

CombatTab:CreateSection("Kill Aura")
local killAuraActive = false
local killAuraRange = 25
local killAuraCooldown = 0.3

CombatTab:CreateToggle({
    Name = "💀 Kill Aura",
    CurrentValue = false,
    Flag = "KillAura",
    Callback = function(Value)
        killAuraActive = Value
        Rayfield:Notify({
            Title = Value and "Kill Aura Enabled" or "Kill Aura Disabled",
            Content = Value and "Attacking nearby enemies" or "Combat system offline",
            Duration = 3,
            Image = 6022668888
        })
    end,
})

CombatTab:CreateSlider({
    Name = "📏 Kill Aura Range",
    Range = {5, 50},
    Increment = 1,
    Suffix = "studs",
    CurrentValue = 25,
    Flag = "AuraRange",
    Callback = function(Value)
        killAuraRange = Value
    end,
})

CombatTab:CreateSlider({
    Name = "⏱️ Attack Cooldown",
    Range = {0.1, 1.5},
    Increment = 0.1,
    Suffix = "seconds",
    CurrentValue = 0.3,
    Flag = "AttackCooldown",
    Callback = function(Value)
        killAuraCooldown = Value
    end,
})

-- Combat automation
spawn(function()
    while true do
        if killAuraActive then
            pcall(function()
                local player = game.Players.LocalPlayer
                local character = player.Character
                local humanoidRootPart = character and character:FindFirstChild("HumanoidRootPart")
                
                if humanoidRootPart then
                    for _, target in ipairs(game.Players:GetPlayers()) do
                        if target ~= player and target.Character then
                            local targetHRP = target.Character:FindFirstChild("HumanoidRootPart")
                            local targetHumanoid = target.Character:FindFirstChildOfClass("Humanoid")
                            
                            if targetHRP and targetHumanoid and targetHumanoid.Health > 0 then
                                local distance = (humanoidRootPart.Position - targetHRP.Position).Magnitude
                                
                                if distance <= killAuraRange then
                                    -- Simulate attack (customize based on game)
                                    game:GetService("ReplicatedStorage").MeleeEvent:FireServer(target.Character)
                                    -- Bypass cooldown
                                    wait(killAuraCooldown)
                                end
                            end
                        end
                    end
                end
            end)
        end
        wait(0.1)
    end
end)

-- Main Tab
local MainTab = Window:CreateTab("🏠 Main", 6022668888)

-- Teleportation Section
local TeleportSection = MainTab:CreateSection("Teleportation")
MainTab:CreateButton({
    Name = "🚀 Go to Sky (Y:256)",
    Callback = function()
        pcall(function()
            local char = game.Players.LocalPlayer.Character
            local hrp = char and char:FindFirstChild("HumanoidRootPart")
            if hrp then
                hrp.CFrame = CFrame.new(hrp.Position.X, 256, hrp.Position.Z)
                Rayfield:Notify({
                    Title = "Teleported to Sky!",
                    Content = "You're now at Y:256 position",
                    Duration = 3,
                    Image = 6022668888
                })
            end
        end)
    end,
})

-- Movement Section
local MovementSection = MainTab:CreateSection("Movement")
MainTab:CreateSlider({
    Name = "🏃‍♂️ Max Speed",
    Range = {16, 200},
    Increment = 5,
    Suffix = "studs",
    CurrentValue = 16,
    Flag = "MaxSpeed",
    Callback = function(Value)
        pcall(function()
            local humanoid = game.Players.LocalPlayer.Character:FindFirstChildOfClass("Humanoid")
            if humanoid then
                humanoid.WalkSpeed = Value
            end
        end)
    end,
})

-- Server Actions Section
local ServerSection = MainTab:CreateSection("Server Actions")
MainTab:CreateButton({
    Name = "🔁 Rejoin Server",
    Callback = function()
        game:GetService("TeleportService"):Teleport(game.PlaceId)
    end,
})

-- Helper Tab
local HelperTab = Window:CreateTab("🛠️ Helper", 6022668888)

-- Anti-Cheats Section
local AntiCheatsSection = HelperTab:CreateSection("Anti-Cheats")
HelperTab:CreateToggle({
    Name = "⏱️ Anti AFK",
    CurrentValue = false,
    Flag = "AntiAFK",
    Callback = function(Value)
        if Value then
            local VirtualUser = game:GetService("VirtualUser")
            game:GetService("Players").LocalPlayer.Idled:Connect(function()
                VirtualUser:CaptureController()
                VirtualUser:ClickButton2(Vector2.new())
            end)
            Rayfield:Notify({
                Title = "Anti AFK Enabled",
                Content = "You won't be kicked for AFK",
                Duration = 3,
                Image = 6022668888
            })
        end
    end,
})

-- ESP Tab
local ESPTab = Window:CreateTab("👁️ ESP", 6022668888)

local playersESP = {}
ESPTab:CreateToggle({
    Name = "👤 Player ESP",
    CurrentValue = false,
    Flag = "PlayerESP",
    Callback = function(Value)
        if Value then
            for _, player in ipairs(game:GetService("Players"):GetPlayers()) do
                if player ~= game.Players.LocalPlayer then
                    pcall(function()
                        if player.Character then
                            local highlight = Instance.new("Highlight")
                            highlight.Name = player.Name .. "_ESP"
                            highlight.OutlineColor = Color3.new(1, 0, 0)
                            highlight.FillColor = Color3.new(1, 0, 0)
                            highlight.FillTransparency = 0.5
                            highlight.Parent = player.Character
                            playersESP[player] = highlight
                        end
                    end)
                end
            end
            Rayfield:Notify({
                Title = "Player ESP Enabled",
                Content = "Players highlighted in red",
                Duration = 3,
                Image = 6022668888
            })
        else
            for player, highlight in pairs(playersESP) do
                if highlight then
                    highlight:Destroy()
                end
            end
            table.clear(playersESP)
            Rayfield:Notify({
                Title = "Player ESP Disabled",
                Content = "Player highlights removed",
                Duration = 3,
                Image = 6022668888
            })
        end
    end,
})

-- Auto-Update ESP
game:GetService("Players").PlayerAdded:Connect(function(player)
    if ESPTab:Get("PlayerESP").CurrentValue then
        player.CharacterAdded:Connect(function(char)
            if playersESP[player] then playersESP[player]:Destroy() end
            local highlight = Instance.new("Highlight")
            highlight.Name = player.Name .. "_ESP"
            highlight.OutlineColor = Color3.new(1, 0, 0)
            highlight.FillColor = Color3.new(1, 0, 0)
            highlight.FillTransparency = 0.5
            highlight.Parent = char
            playersESP[player] = highlight
        end)
    end
end)

-- Initialize
Rayfield:LoadConfiguration()
Rayfield:SetWatermark("✨ Ultimate Combat Hub v2.0 | " .. os.date("%X"))
Rayfield:SetWatermarkVisibility(true)
Rayfield:SetKeybind(Enum.KeyCode.F4)
Rayfield:Notify({
    Title = "Hub Loaded",
    Content = "Combat features activated!",
    Duration = 5,
    Image = 6022668888
})

print("Ultimate Combat Hub loaded successfully!")
