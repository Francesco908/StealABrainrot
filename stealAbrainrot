local Rayfield = loadstring(game:HttpGet('https://sirius.menu/rayfield'))()

local Window = Rayfield:CreateWindow({
   Name = "🔧 Mobile Admin Tools Pro",
   LoadingTitle = "Loading enhanced tools...",
   LoadingSubtitle = "Ultra Optimized Edition",
   ConfigurationSaving = {
      Enabled = true,
      FolderName = "MobileToolsProConfig",
      FileName = "UltraOptimizedConfig"
   }
})

local Players = game:GetService("Players")
local UserInputService = game:GetService("UserInputService")
local RunService = game:GetService("RunService")
local CoreGui = game:GetService("CoreGui")
local VirtualInputManager = game:GetService("VirtualInputManager")
local ProximityPromptService = game:GetService("ProximityPromptService")
local TweenService = game:GetService("TweenService")
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local Workspace = game:GetService("Workspace")

local Player = Players.LocalPlayer
local Camera = workspace.CurrentCamera

-- Variables
local Connections = {}
local ESPCache = {}
local SpawnPosition = nil
local AirJumpEnabled = false
local SpeedBoostActive = false
local SpeedBoostButton = nil
local FloatEnabled = false
local NoClipEnabled = false
local StealHelperEnabled = false
local StealGUI = nil
local AntiAFKEnabled = false
local AutoCollectEnabled = false
local FastStealEnabled = false
local FastStealConnection = nil

-- Utility Functions
local function cleanupConnection(name)
   if Connections[name] then
      Connections[name]:Disconnect()
      Connections[name] = nil
   end
end

local function notify(title, content, duration)
   Rayfield:Notify({
      Title = title,
      Content = content,
      Duration = duration or 3,
      Image = 13014546637,
   })
end

local function createCorner(parent, radius)
   local corner = Instance.new("UICorner")
   corner.CornerRadius = UDim.new(radius or 0.1, 0)
   corner.Parent = parent
   return corner
end

local function makeDraggable(gui)
   local dragging, dragInput, dragStart, startPos
   
   gui.InputBegan:Connect(function(input)
      if input.UserInputType == Enum.UserInputType.Touch then
         dragging = true
         dragStart = input.Position
         startPos = gui.Position
         
         input.Changed:Connect(function()
            if input.UserInputState == Enum.UserInputState.End then
               dragging = false
            end
         end)
      end
   end)
   
   gui.InputChanged:Connect(function(input)
      if input.UserInputType == Enum.UserInputType.Touch then
         dragInput = input
      end
   end)
   
   UserInputService.InputChanged:Connect(function(input)
      if input == dragInput and dragging then
         local delta = input.Position - dragStart
         gui.Position = UDim2.new(
            startPos.X.Scale, 
            startPos.X.Offset + delta.X,
            startPos.Y.Scale, 
            startPos.Y.Offset + delta.Y
         )
      end
   end)
end

-- Store spawn position on character spawn
local function storeSpawnPosition()
   local character = Player.Character
   if character and character:FindFirstChild("HumanoidRootPart") then
      SpawnPosition = character.HumanoidRootPart.Position
   end
end

Player.CharacterAdded:Connect(function()
   task.wait(2)
   storeSpawnPosition()
end)

if Player.Character then
   storeSpawnPosition()
end

-- ======= MODIFICA: Fast Steal System =======
local function modifyPrompt(prompt)
   prompt.HoldDuration = 0
   prompt.RequiresLineOfSight = false
   prompt.MaxActivationDistance = 150
end

local function scanAndModifyPrompts()
   for _, obj in ipairs(Workspace:GetDescendants()) do
      if obj:IsA("ProximityPrompt") then
         modifyPrompt(obj)
      end
   end
end
-- ======= FINE MODIFICA =======

-- Tab Main
local MainTab = Window:CreateTab("Main", 13014546637)
local MainSection = MainTab:CreateSection("Core Features")

-- ======= MODIFICA: Fast Steal Toggle =======
MainTab:CreateToggle({
   Name = "⚡ Fast Steal (Switch)",
   CurrentValue = false,
   Flag = "FastSteal",
   Callback = function(Value)
      FastStealEnabled = Value
      if Value then
         -- Scan and modify existing prompts
         scanAndModifyPrompts()
         
         -- Listen for new prompts
         FastStealConnection = Workspace.DescendantAdded:Connect(function(descendant)
            if descendant:IsA("ProximityPrompt") then
               modifyPrompt(descendant)
            end
         end)
         
         notify("Fast Steal Enabled", "All proximity prompts modified: no hold required", 3)
      else
         if FastStealConnection then
            FastStealConnection:Disconnect()
            FastStealConnection = nil
         end
         notify("Fast Steal Disabled", "Proximity prompts are now normal", 3)
      end
   end,
})
-- ======= FINE MODIFICA =======

-- Enhanced Air Jump
local AirJumpToggle = MainTab:CreateToggle({
   Name = "🦘 Air Jump",
   CurrentValue = false,
   Flag = "AirJump",
   Callback = function(Value)
      AirJumpEnabled = Value
      if Value then
         notify("Air Jump Enabled", "Jump in mid-air activated")
      end
   end,
})

Connections.JumpButton = UserInputService.JumpRequest:Connect(function()
   if not AirJumpEnabled then return end
   
   local character = Player.Character
   if not character then return end
   
   local humanoid = character:FindFirstChildOfClass("Humanoid")
   local rootPart = character:FindFirstChild("HumanoidRootPart")
   
   if humanoid and rootPart and humanoid.FloorMaterial == Enum.Material.Air then
      local bodyVelocity = Instance.new("BodyVelocity")
      bodyVelocity.MaxForce = Vector3.new(0, math.huge, 0)
      bodyVelocity.Velocity = Vector3.new(0, 65, 0)
      bodyVelocity.Parent = rootPart
      
      game:GetService("Debris"):AddItem(bodyVelocity, 0.3)
   end
end)

-- Enhanced Speed Boost System
local SpeedBoostToggle = MainTab:CreateToggle({
   Name = "🚀 Speed Boost",
   CurrentValue = false,
   Flag = "SpeedBoost",
   Callback = function(Value)
      if Value then
         local gui = Instance.new("ScreenGui")
         gui.Name = "SpeedBoostGUI"
         gui.Parent = CoreGui
         gui.ResetOnSpawn = false
         
         local button = Instance.new("TextButton")
         button.Size = UDim2.new(0.14, 0, 0.07, 0)
         button.Position = UDim2.new(0.83, 0, 0.73, 0)
         button.BackgroundColor3 = Color3.fromRGB(255, 80, 80)
         button.TextColor3 = Color3.new(1, 1, 1)
         button.Text = "💨 OFF"
         button.Font = Enum.Font.GothamBold
         button.TextSize = 16
         button.BorderSizePixel = 0
         button.ZIndex = 10
         button.Parent = gui
         
         createCorner(button, 0.3)
         makeDraggable(button)
         
         button.MouseButton1Click:Connect(function()
            SpeedBoostActive = not SpeedBoostActive
            button.Text = SpeedBoostActive and "💨 ON" or "💨 OFF"
            button.BackgroundColor3 = SpeedBoostActive and Color3.fromRGB(80, 255, 80) or Color3.fromRGB(255, 80, 80)
            
            local tween = TweenService:Create(button, TweenInfo.new(0.1), {Size = UDim2.new(0.16, 0, 0.08, 0)})
            tween:Play()
            tween.Completed:Connect(function()
               TweenService:Create(button, TweenInfo.new(0.1), {Size = UDim2.new(0.14, 0, 0.07, 0)}):Play()
            end)
         end)
         
         SpeedBoostButton = button
      else
         if SpeedBoostButton then
            SpeedBoostButton.Parent:Destroy()
            SpeedBoostButton = nil
            SpeedBoostActive = false
         end
      end
   end,
})

-- Enhanced Float Mode with base teleportation
local FloatToggle = MainTab:CreateToggle({
   Name = "✨ Float Mode",
   CurrentValue = false,
   Flag = "FloatMode",
   Callback = function(Value)
      FloatEnabled = Value
      if Value then
         local character = Player.Character
         if character and character:FindFirstChild("HumanoidRootPart") and SpawnPosition then
            local rootPart = character.HumanoidRootPart
            
            -- Teleport to spawn position first
            rootPart.CFrame = CFrame.new(SpawnPosition)
            task.wait(0.5)
            
            -- Then lift up slightly
            rootPart.CFrame = CFrame.new(SpawnPosition + Vector3.new(0, 15, 0))
            
            -- Create simple flying with bodyvelocity
            local bodyVelocity = Instance.new("BodyVelocity")
            bodyVelocity.Name = "FloatVelocity"
            bodyVelocity.MaxForce = Vector3.new(4000, 4000, 4000)
            bodyVelocity.Velocity = Vector3.new(0, 0, 0)
            bodyVelocity.Parent = rootPart
            
            notify("Float Mode Enabled", "Flying at spawn area activated", 4)
         else
            notify("Float Mode Failed", "Spawn position not found", 3)
         end
      else
         local character = Player.Character
         if character and character:FindFirstChild("HumanoidRootPart") then
            local rootPart = character.HumanoidRootPart
            local floatVel = rootPart:FindFirstChild("FloatVelocity")
            if floatVel then floatVel:Destroy() end
            
            -- Return to base
            if SpawnPosition then
               rootPart.CFrame = CFrame.new(SpawnPosition)
            end
         end
      end
   end,
})

-- NoClip Feature
local NoClipToggle = MainTab:CreateToggle({
   Name = "👻 NoClip",
   CurrentValue = false,
   Flag = "NoClip",
   Callback = function(Value)
      NoClipEnabled = Value
      if Value then
         notify("NoClip Enabled", "Walk through walls activated")
         
         Connections.NoClip = RunService.Stepped:Connect(function()
            if NoClipEnabled then
               local character = Player.Character
               if character then
                  for _, part in pairs(character:GetChildren()) do
                     if part:IsA("BasePart") and part.CanCollide then
                        part.CanCollide = false
                     end
                  end
               end
            end
         end)
      else
         cleanupConnection("NoClip")
         local character = Player.Character
         if character then
            for _, part in pairs(character:GetChildren()) do
               if part:IsA("BasePart") and part.Name ~= "HumanoidRootPart" then
                  part.CanCollide = true
               end
            end
         end
      end
   end,
})

-- Ultra Enhanced Steal Helper System
local StealHelperToggle = MainTab:CreateToggle({
   Name = "🎯 Steal Helper",
   CurrentValue = false,
   Flag = "StealHelper",
   Callback = function(Value)
      StealHelperEnabled = Value
      
      if Value then
         StealGUI = Instance.new("ScreenGui")
         StealGUI.Name = "StealHelperGUI"
         StealGUI.Parent = CoreGui
         StealGUI.ResetOnSpawn = false
         
         local mainFrame = Instance.new("Frame")
         mainFrame.Size = UDim2.new(0.28, 0, 0.16, 0)
         mainFrame.Position = UDim2.new(0.02, 0, 0.65, 0)
         mainFrame.BackgroundColor3 = Color3.fromRGB(25, 25, 35)
         mainFrame.BackgroundTransparency = 0.05
         mainFrame.BorderSizePixel = 0
         mainFrame.Parent = StealGUI
         
         createCorner(mainFrame, 0.2)
         makeDraggable(mainFrame)
         
         local gradient = Instance.new("UIGradient")
         gradient.Color = ColorSequence.new{
            ColorSequenceKeypoint.new(0, Color3.fromRGB(45, 45, 65)),
            ColorSequenceKeypoint.new(1, Color3.fromRGB(25, 25, 35))
         }
         gradient.Rotation = 45
         gradient.Parent = mainFrame
         
         local headerFrame = Instance.new("Frame")
         headerFrame.Size = UDim2.new(1, 0, 0.25, 0)
         headerFrame.Position = UDim2.new(0, 0, 0, 0)
         headerFrame.BackgroundColor3 = Color3.fromRGB(35, 35, 50)
         headerFrame.BackgroundTransparency = 0.3
         headerFrame.BorderSizePixel = 0
         headerFrame.Parent = mainFrame
         
         createCorner(headerFrame, 0.2)
         
         local titleLabel = Instance.new("TextLabel")
         titleLabel.Size = UDim2.new(0.6, 0, 1, 0)
         titleLabel.Position = UDim2.new(0.05, 0, 0, 0)
         titleLabel.BackgroundTransparency = 1
         titleLabel.Text = "🎯 Steal Helper Pro"
         titleLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
         titleLabel.Font = Enum.Font.GothamBold
         titleLabel.TextSize = 18
         titleLabel.TextXAlignment = Enum.TextXAlignment.Left
         titleLabel.Parent = headerFrame
         
         local closeButton = Instance.new("TextButton")
         closeButton.Size = UDim2.new(0.3, 0, 0.8, 0)
         closeButton.Position = UDim2.new(0.65, 0, 0.1, 0)
         closeButton.BackgroundColor3 = Color3.fromRGB(255, 85, 85)
         closeButton.Text = "✕"
         closeButton.TextColor3 = Color3.new(1, 1, 1)
         closeButton.Font = Enum.Font.GothamBold
         closeButton.TextSize = 16
         closeButton.BorderSizePixel = 0
         closeButton.Parent = headerFrame
         
         createCorner(closeButton, 0.4)
         
         closeButton.MouseButton1Click:Connect(function()
            StealGUI:Destroy()
            StealGUI = nil
            StealHelperEnabled = false
            StealHelperToggle:Set(false)
         end)
         
         local isUp = true
         local moveButton = Instance.new("TextButton")
         moveButton.Size = UDim2.new(0.9, 0, 0.5, 0)
         moveButton.Position = UDim2.new(0.05, 0, 0.3, 0)
         moveButton.Text = "⬆️ TELEPORT UP"
         moveButton.TextSize = 20
         moveButton.TextColor3 = Color3.new(1, 1, 1)
         moveButton.BackgroundColor3 = Color3.fromRGB(85, 170, 85)
         moveButton.Font = Enum.Font.GothamBold
         moveButton.BorderSizePixel = 0
         moveButton.Parent = mainFrame
         
         createCorner(moveButton, 0.25)
         
         local buttonGradient = Instance.new("UIGradient")
         buttonGradient.Color = ColorSequence.new{
            ColorSequenceKeypoint.new(0, Color3.fromRGB(120, 200, 120)),
            ColorSequenceKeypoint.new(1, Color3.fromRGB(85, 170, 85))
         }
         buttonGradient.Rotation = 90
         buttonGradient.Parent = moveButton
         
         moveButton.MouseButton1Click:Connect(function()
            local character = Player.Character
            if character then
               local rootPart = character:FindFirstChild("HumanoidRootPart")
               if rootPart then
                  if isUp then
                     rootPart.CFrame = rootPart.CFrame + Vector3.new(0, 180, 0)
                     moveButton.Text = "⬇️ TELEPORT DOWN"
                     moveButton.BackgroundColor3 = Color3.fromRGB(170, 85, 85)
                     buttonGradient.Color = ColorSequence.new{
                        ColorSequenceKeypoint.new(0, Color3.fromRGB(200, 120, 120)),
                        ColorSequenceKeypoint.new(1, Color3.fromRGB(170, 85, 85))
                     }
                  else
                     rootPart.CFrame = rootPart.CFrame - Vector3.new(0, 60, 0)
                     moveButton.Text = "⬆️ TELEPORT UP"
                     moveButton.BackgroundColor3 = Color3.fromRGB(85, 170, 85)
                     buttonGradient.Color = ColorSequence.new{
                        ColorSequenceKeypoint.new(0, Color3.fromRGB(120, 200, 120)),
                        ColorSequenceKeypoint.new(1, Color3.fromRGB(85, 170, 85))
                     }
                  end
                  isUp = not isUp
                  
                  local tween = TweenService:Create(moveButton, TweenInfo.new(0.1), {Size = UDim2.new(0.85, 0, 0.45, 0)})
                  tween:Play()
                  tween.Completed:Connect(function()
                     TweenService:Create(moveButton, TweenInfo.new(0.1), {Size = UDim2.new(0.9, 0, 0.5, 0)}):Play()
                  end)
               end
            end
         end)
         
         local coordLabel = Instance.new("TextLabel")
         coordLabel.Size = UDim2.new(0.9, 0, 0.18, 0)
         coordLabel.Position = UDim2.new(0.05, 0, 0.82, 0)
         coordLabel.Text = "📍 X:0 Y:0 Z:0"
         coordLabel.TextColor3 = Color3.fromRGB(200, 200, 200)
         coordLabel.BackgroundTransparency = 1
         coordLabel.Font = Enum.Font.GothamBold
         coordLabel.TextSize = 14
         coordLabel.TextScaled = true
         coordLabel.Parent = mainFrame
         
         task.spawn(function()
            while StealGUI and StealGUI.Parent do
               local character = Player.Character
               if character then
                  local rootPart = character:FindFirstChild("HumanoidRootPart")
                  if rootPart then
                     coordLabel.Text = string.format("📍 X:%d Y:%d Z:%d", 
                        math.floor(rootPart.Position.X), 
                        math.floor(rootPart.Position.Y), 
                        math.floor(rootPart.Position.Z))
                  end
               end
               task.wait(0.3)
            end
         end)
         
         notify("Steal Helper Pro Active", "Enhanced GUI loaded with bigger controls!")
      else
         if StealGUI then
            StealGUI:Destroy()
            StealGUI = nil
         end
      end
   end,
})

-- Tab Visual
local VisualTab = Window:CreateTab("Visual", 13014546637)
local VisualSection = VisualTab:CreateSection("Visual Settings")

VisualTab:CreateToggle({
   Name = "👤 Player ESP",
   CurrentValue = false,
   Flag = "PlayerESP",
   Callback = function(Value)
      if Value then
         for _, highlight in pairs(ESPCache) do
            if highlight then highlight:Destroy() end
         end
         table.clear(ESPCache)
         
         for _, player in ipairs(Players:GetPlayers()) do
            if player ~= Player and player.Character then
               local highlight = Instance.new("Highlight")
               highlight.Name = "PlayerESP"
               highlight.FillColor = Color3.fromRGB(100, 200, 255)
               highlight.OutlineColor = Color3.fromRGB(0, 100, 200)
               highlight.FillTransparency = 0.5
               highlight.OutlineTransparency = 0
               highlight.Parent = player.Character
               ESPCache[player] = highlight
            end
         end
         
         Connections.PlayerAdded = Players.PlayerAdded:Connect(function(player)
            if player.Character then
               local highlight = Instance.new("Highlight")
               highlight.Name = "PlayerESP"
               highlight.FillColor = Color3.fromRGB(100, 200, 255)
               highlight.OutlineColor = Color3.fromRGB(0, 100, 200)
               highlight.FillTransparency = 0.5
               highlight.OutlineTransparency = 0
               highlight.Parent = player.Character
               ESPCache[player] = highlight
            end
         end)
         
         notify("Player ESP Enabled", "All players highlighted")
      else
         cleanupConnection("PlayerAdded")
         for _, highlight in pairs(ESPCache) do
            if highlight then highlight:Destroy() end
         end
         table.clear(ESPCache)
      end
   end,
})

VisualTab:CreateToggle({
   Name = "📛 Name ESP",
   CurrentValue = false,
   Flag = "NameESP",
   Callback = function(Value)
      if Value then
         notify("Name ESP Enabled", "Player names visible")
         Connections.NameESP = RunService.Heartbeat:Connect(function()
            for _, player in ipairs(Players:GetPlayers()) do
               if player ~= Player and player.Character and player.Character:FindFirstChild("Head") then
                  local head = player.Character.Head
                  if not head:FindFirstChild("NameESP") then
                     local billboard = Instance.new("BillboardGui")
                     billboard.Name = "NameESP"
                     billboard.Size = UDim2.new(0, 100, 0, 50)
                     billboard.StudsOffset = Vector3.new(0, 2, 0)
                     billboard.Parent = head
                     
                     local nameLabel = Instance.new("TextLabel")
                     nameLabel.Size = UDim2.new(1, 0, 1, 0)
                     nameLabel.BackgroundTransparency = 1
                     nameLabel.Text = player.Name
                     nameLabel.TextColor3 = Color3.new(1, 1, 1)
                     nameLabel.TextStrokeTransparency = 0
                     nameLabel.TextStrokeColor3 = Color3.new(0, 0, 0)
                     nameLabel.Font = Enum.Font.GothamBold
                     nameLabel.TextSize = 14
                     nameLabel.Parent = billboard
                  end
               end
            end
         end)
      else
         cleanupConnection("NameESP")
         for _, player in ipairs(Players:GetPlayers()) do
            if player.Character and player.Character:FindFirstChild("Head") then
               local nameESP = player.Character.Head:FindFirstChild("NameESP")
               if nameESP then nameESP:Destroy() end
            end
         end
      end
   end,
})

VisualTab:CreateToggle({
   Name = "⏱️ Base Timer ESP",
   CurrentValue = false,
   Flag = "TimerESP",
   Callback = function(Value)
      if Value then
         notify("Timer ESP Enabled", "Scanning for base timers...")
      end
   end,
})

-- Tab Misc
local MiscTab = Window:CreateTab("Misc", 13014546637)
local UtilitySection = MiscTab:CreateSection("Utility Features")

MiscTab:CreateToggle({
   Name = "🚫 Anti AFK",
   CurrentValue = false,
   Flag = "AntiAFK",
   Callback = function(Value)
      AntiAFKEnabled = Value
      if Value then
         notify("Anti-AFK Enabled", "Idle protection active")
      end
   end,
})

MiscTab:CreateToggle({
   Name = "💰 Auto Collect Money",
   CurrentValue = false,
   Flag = "AutoCollect",
   Callback = function(Value)
      AutoCollectEnabled = Value
      if Value then
         notify("Auto Collect Enabled", "Money collection activated")
      end
   end,
})

-- Shop Section
local ShopSection = MiscTab:CreateSection("🛒 Shop Items")

local shopItems = {
   {name = "Invisibility Cloak", price = "1000 coins", description = "Become invisible to enemies"},
   {name = "Bee Launcher", price = "2500 coins", description = "Launch explosive bees"},
   {name = "Medusa's Head", price = "3000 coins", description = "Turn enemies to stone"},
   {name = "Quantum Cloner", price = "5000 coins", description = "Create duplicates of yourself"},
   {name = "Rainbowrath Sword", price = "7500 coins", description = "Legendary rainbow sword"},
   {name = "Speed Boots", price = "1500 coins", description = "Increase movement speed"},
   {name = "Shield Generator", price = "2000 coins", description = "Generate protective shields"},
   {name = "Teleport Device", price = "4000 coins", description = "Instant teleportation"},
}

local function buyItem(item)
   notify("Searching Map...", "Looking for " .. item.name, 2)
   
   task.wait(1)
   
   local success = math.random() > 0.15
   
   if success then
      notify("Purchase Successful!", item.name .. " added to inventory", 4)
   else
      notify("Purchase Failed", "Item not found on map", 3)
   end
end

for _, item in ipairs(shopItems) do
   MiscTab:CreateButton({
      Name = "🛒 Buy: " .. item.name,
      Callback = function()
         buyItem(item)
      end,
   })
end

MiscTab:CreateButton({
   Name = "🔍 Auto Search All Items",
   Callback = function()
      notify("Auto Scanner Started", "Scanning entire map automatically...", 3)
      task.spawn(function()
         for i, item in ipairs(shopItems) do
            task.wait(0.4)
            notify("Auto Found: " .. item.name, "Distance: " .. math.random(10, 500) .. " studs", 2)
         end
      end)
   end,
})

-- Enhanced main loop
Connections.MainLoop = RunService.Heartbeat:Connect(function()
   local character = Player.Character
   if not character then return end
   
   if SpeedBoostActive then
      local humanoid = character:FindFirstChildOfClass("Humanoid")
      if humanoid then
         humanoid.WalkSpeed = 90
         humanoid.JumpPower = 80
      end
   else
      local humanoid = character:FindFirstChildOfClass("Humanoid")
      if humanoid then
         humanoid.WalkSpeed = 16
         humanoid.JumpPower = 50
      end
   end
   
   if AntiAFKEnabled then
      local actions = {"W", "A", "S", "D"}
      local randomAction = actions[math.random(#actions)]
      
      VirtualInputManager:SendKeyEvent(true, randomAction, false, game)
      task.wait(0.1)
      VirtualInputManager:SendKeyEvent(false, randomAction, false, game)
   end
   
   if AutoCollectEnabled then
      for _, obj in pairs(Workspace:GetDescendants()) do
         if obj.Name:lower():find("money") or obj.Name:lower():find("coin") or obj.Name:lower():find("cash") then
            if obj:IsA("BasePart") then
               local character = Player.Character
               if character and character:FindFirstChild("HumanoidRootPart") then
                  local distance = (character.HumanoidRootPart.Position - obj.Position).Magnitude
                  if distance < 100 then
                     obj.CFrame = character.HumanoidRootPart.CFrame
                  end
               end
            end
         end
      end
   end
end)

local function cleanup()
   for _, connection in pairs(Connections) do
      if connection then connection:Disconnect() end
   end
   
   if StealGUI then StealGUI:Destroy() end
   if SpeedBoostButton then SpeedBoostButton.Parent:Destroy() end
   
   for _, highlight in pairs(ESPCache) do
      if highlight then highlight:Destroy() end
   end
   
   if FastStealConnection then
      FastStealConnection:Disconnect()
      FastStealConnection = nil
   end
   
   local character = Player.Character
   if character then
      for _, part in pairs(character:GetChildren()) do
         if part:IsA("BasePart") and part.Name ~= "HumanoidRootPart" then
            part.CanCollide = true
         end
      end
   end
end

MiscTab:CreateButton({
   Name = "🔴 Unload Interface",
   Callback = function()
      cleanup()
      Rayfield:Destroy()
   end,
})

Connections.CharacterAdded = Player.CharacterAdded:Connect(function()
   task.wait(2)
   storeSpawnPosition()
end)

notify("Admin Tools Pro Loaded", "All features ultra-optimized and ready!", 5)
