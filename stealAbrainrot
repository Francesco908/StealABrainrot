local Rayfield = loadstring(game:HttpGet('https://sirius.menu/rayfield'))()

local Window = Rayfield:CreateWindow({
   Name = "üîß Admin Fun Tools v4.0",
   LoadingTitle = "Caricamento strumenti avanzati...",
   LoadingSubtitle = "by Elite Hacker",
   ConfigurationSaving = {
      Enabled = true,
      FolderName = "AdminFunConfig",
      FileName = "Config"
   },
   Discord = {
      Enabled = true,
      Invite = "noinvitelink", -- Invite Code
      RememberJoins = true
   }
})

-- Tab Main
local MainTab = Window:CreateTab("Main", 4483362458)
local MainSection = MainTab:CreateSection("Funzioni Principali")

-- Air Jump
local AirJumpToggle = MainTab:CreateToggle({
   Name = "ü¶ò Air Jump",
   CurrentValue = false,
   Flag = "AirJumpToggle",
   Callback = function(Value)
      if Value then
         Rayfield:Notify({
            Title = "Air Jump Attivato",
            Content = "Premi SPAZIO per saltare in aria!",
            Duration = 3,
            Image = 4483362458
         })
      else
         Rayfield:Notify({
            Title = "Air Jump Disattivato",
            Content = "",
            Duration = 1,
            Image = 4483362458
         })
      end
   end,
})

-- Speed Boost
local SpeedBoostActive = false
local SpeedBoostOverlay

local SpeedBoostToggle = MainTab:CreateToggle({
   Name = "üöÄ Speed Boost",
   CurrentValue = false,
   Flag = "SpeedBoostToggle",
   Callback = function(Value)
      if Value then
         SpeedBoostOverlay = MainTab:CreateLabel("STATO: OFF")
         SpeedBoostOverlay.TextColor3 = Color3.fromRGB(255,0,0)
      else
         if SpeedBoostOverlay then
            SpeedBoostOverlay:Destroy()
            SpeedBoostOverlay = nil
         end
         SpeedBoostActive = false
      end
   end,
})

MainTab:CreateButton({
   Name = "Attiva/Disattiva Boost",
   Callback = function()
      if SpeedBoostToggle.CurrentValue then
         SpeedBoostActive = not SpeedBoostActive
         if SpeedBoostOverlay then
            SpeedBoostOverlay.Text = "STATO: " .. (SpeedBoostActive and "ON" or "OFF")
            SpeedBoostOverlay.TextColor3 = SpeedBoostActive and Color3.fromRGB(0,255,0) or Color3.fromRGB(255,0,0)
         end
      end
   end,
})

-- Float Mode
local FloatToggle = MainTab:CreateToggle({
   Name = "‚ú® Float Mode",
   CurrentValue = false,
   Flag = "FloatToggle",
   Callback = function(Value)
      if Value then
         Rayfield:Notify({
            Title = "Float Mode Attivato",
            Content = "Immunit√† attiva + Anti AFK",
            Duration = 4,
            Image = 4483362458
         })
      end
   end,
})

-- Steal Helper
local StealHelperToggle = MainTab:CreateToggle({
   Name = "üéØ Steal Helper",
   CurrentValue = false,
   Flag = "StealHelperToggle",
   Callback = function(Value)
      if Value then
         Rayfield:Notify({
            Title = "Steal Helper Attivato",
            Content = "ProximityPrompts istantanei!",
            Duration = 3,
            Image = 4483362458
         })
      end
   end,
})

-- GUI Steal Helper
local StealGUI = Instance.new("ScreenGui")
StealGUI.Name = "StealHelperGUI"
StealGUI.Parent = game.Players.LocalPlayer:WaitForChild("PlayerGui")
StealGUI.ResetOnSpawn = false

local Frame = Instance.new("Frame")
Frame.Size = UDim2.new(0, 150, 0, 120)
Frame.Position = UDim2.new(0.5, -75, 0.7, -60)
Frame.BackgroundColor3 = Color3.fromRGB(30, 30, 40)
Frame.BackgroundTransparency = 0.3
Frame.BorderSizePixel = 0
Frame.Visible = false
Frame.Parent = StealGUI

local UICorner = Instance.new("UICorner")
UICorner.CornerRadius = UDim.new(0, 8)
UICorner.Parent = Frame

local UpButton = Instance.new("TextButton")
UpButton.Size = UDim2.new(0.8, 0, 0.3, 0)
UpButton.Position = UDim2.new(0.1, 0, 0.1, 0)
UpButton.Text = "UP ‚Üë"
UpButton.TextColor3 = Color3.new(1, 1, 1)
UpButton.BackgroundColor3 = Color3.fromRGB(60, 120, 60)
UpButton.Parent = Frame

local DownButton = Instance.new("TextButton")
DownButton.Size = UDim2.new(0.8, 0, 0.3, 0)
DownButton.Position = UDim2.new(0.1, 0, 0.6, 0)
DownButton.Text = "DOWN ‚Üì"
DownButton.TextColor3 = Color3.new(1, 1, 1)
DownButton.BackgroundColor3 = Color3.fromRGB(120, 60, 60)
DownButton.Parent = Frame

local UICornerUp = Instance.new("UICorner")
UICornerUp.CornerRadius = UDim.new(0, 6)
UICornerUp.Parent = UpButton

local UICornerDown = Instance.new("UICorner")
UICornerDown.CornerRadius = UDim.new(0, 6)
UICornerDown.Parent = DownButton

local CoordLabel = Instance.new("TextLabel")
CoordLabel.Size = UDim2.new(1, 0, 0.2, 0)
CoordLabel.Position = UDim2.new(0, 0, 0.9, 0)
CoordLabel.Text = "X:0 Y:0 Z:0"
CoordLabel.TextColor3 = Color3.new(1, 1, 1)
CoordLabel.BackgroundTransparency = 1
CoordLabel.Font = Enum.Font.Code
CoordLabel.TextSize = 14
CoordLabel.Parent = Frame

StealHelperToggle:GetPropertyChangedSignal("CurrentValue"):Connect(function()
   Frame.Visible = StealHelperToggle.CurrentValue
end)

-- Update coordinates
game:GetService("RunService").Heartbeat:Connect(function()
   if StealHelperToggle.CurrentValue and game.Players.LocalPlayer.Character then
      local root = game.Players.LocalPlayer.Character:FindFirstChild("HumanoidRootPart")
      if root then
         CoordLabel.Text = string.format("X:%d Y:%d Z:%d", root.Position.X, root.Position.Y, root.Position.Z)
      end
   end
end)

-- UP/DOWN buttons
UpButton.MouseButton1Click:Connect(function()
   if game.Players.LocalPlayer.Character then
      local root = game.Players.LocalPlayer.Character:FindFirstChild("HumanoidRootPart")
      if root then
         root.CFrame = root.CFrame + Vector3.new(0, 165, 0)
      end
   end
end)

DownButton.MouseButton1Click:Connect(function()
   if game.Players.LocalPlayer.Character then
      local root = game.Players.LocalPlayer.Character:FindFirstChild("HumanoidRootPart")
      if root then
         root.CFrame = root.CFrame - Vector3.new(0, 50, 0)
      end
   end
end)

-- Tab Visual
local VisualTab = Window:CreateTab("Visual", 4483362458)
local VisualSection = VisualTab:CreateSection("Impostazioni Visuali")

-- Player ESP
VisualTab:CreateToggle({
   Name = "üë§ Player ESP",
   CurrentValue = false,
   Flag = "PlayerESPToggle",
   Callback = function(Value)
      if Value then
         Rayfield:Notify({
            Title = "Player ESP Attivato",
            Content = "Giocatori visibili",
            Duration = 2,
            Image = 4483362458
         })
      end
   end,
})

-- Name ESP
VisualTab:CreateToggle({
   Name = "üìõ Name ESP",
   CurrentValue = false,
   Flag = "NameESPToggle",
   Callback = function(Value)
      if Value then
         Rayfield:Notify({
            Title = "Name ESP Attivato",
            Content = "Nomi giocatori visibili",
            Duration = 2,
            Image = 4483362458
         })
      end
   end,
})

-- Base Timer ESP
VisualTab:CreateToggle({
   Name = "‚è±Ô∏è Base Timer ESP",
   CurrentValue = false,
   Flag = "TimerESPToggle",
   Callback = function(Value)
      if Value then
         Rayfield:Notify({
            Title = "Timer ESP Attivato",
            Content = "Timer basi visibili",
            Duration = 2,
            Image = 4483362458
         })
      end
   end,
})

-- Tab Misc
local MiscTab = Window:CreateTab("Misc", 4483362458)
local UtilitySection = MiscTab:CreateSection("Utility")
local ShopSection = MiscTab:CreateSection("üõí Acquisti Shop")

-- Anti-AFK
MiscTab:CreateToggle({
   Name = "üö´ Anti AFK",
   CurrentValue = false,
   Flag = "AntiAFKToggle",
   Callback = function(Value)
      if Value then
         Rayfield:Notify({
            Title = "Anti-AFK Attivato",
            Content = "Nessun kick per inattivit√†",
            Duration = 2,
            Image = 4483362458
         })
      end
   end,
})

-- Shop Items
local shopItems = {
   "Invisibility Cloak",
   "Bee Launcher",
   "Medusa's Head",
   "Quantum Cloner",
   "Rainbowrath Sword"
}

for _, item in ipairs(shopItems) do
   MiscTab:CreateButton({
      Name = "Acquista: " .. item,
      Callback = function()
         Rayfield:Notify({
            Title = "Acquisto Effettuato",
            Content = "Hai comprato: " .. item,
            Duration = 5,
            Image = 4483362458,
            Actions = {
               Ignore = {
                  Name = "OK",
                  Callback = function()
                  end
               },
            },
         })
      end,
   })
end

-- Funzionalit√† Core
local Player = game.Players.LocalPlayer

-- Air Jump
game:GetService("UserInputService").JumpRequest:Connect(function()
   if AirJumpToggle.CurrentValue and Player.Character then
      Player.Character:FindFirstChildOfClass("Humanoid"):ChangeState("Jumping")
   end
end)

-- Speed Boost
game:GetService("RunService").Heartbeat:Connect(function()
   if SpeedBoostActive and Player.Character then
      local humanoid = Player.Character:FindFirstChildOfClass("Humanoid")
      if humanoid then
         humanoid.WalkSpeed = 50
      end
   end
end)

-- Float Mode
FloatToggle:GetPropertyChangedSignal("CurrentValue"):Connect(function()
   if FloatToggle.CurrentValue then
      -- Anti-Stun
      if Player.Character then
         for _, part in ipairs(Player.Character:GetDescendants()) do
            if part:IsA("BasePart") then
               part.CanCollide = false
            end
         end
      end
      
      -- Anti-AFK
      if not getconnections then return end
      for _, conn in ipairs(getconnections(game:GetService("Players").LocalPlayer.Idled)) do
         conn:Disable()
      end
   end
end)

-- Player ESP
local ESPCache = {}
game:GetService("Players").PlayerAdded:Connect(function(player)
   if VisualTab:GetFlag("PlayerESPToggle") then
      local highlight = Instance.new("Highlight")
      highlight.Name = "PlayerESP"
      highlight.FillColor = Color3.fromRGB(0, 255, 255)
      highlight.OutlineColor = Color3.fromRGB(0, 150, 150)
      highlight.Parent = player.Character or player.CharacterAdded:Wait()
      ESPCache[player] = highlight
   end
end)

VisualTab:GetFlagChangedSignal("PlayerESPToggle"):Connect(function()
   if VisualTab:GetFlag("PlayerESPToggle") then
      for _, player in ipairs(game:GetService("Players"):GetPlayers()) do
         if player ~= Player and player.Character then
            local highlight = Instance.new("Highlight")
            highlight.Name = "PlayerESP"
            highlight.FillColor = Color3.fromRGB(0, 255, 255)
            highlight.OutlineColor = Color3.fromRGB(0, 150, 150)
            highlight.Parent = player.Character
            ESPCache[player] = highlight
         end
      end
   else
      for player, highlight in pairs(ESPCache) do
         highlight:Destroy()
      end
      table.clear(ESPCache)
   end
end)

-- Unload
MiscTab:CreateButton({
   Name = "Unload Interface",
   Callback = function()
      Rayfield:Destroy()
      if StealGUI then StealGUI:Destroy() end
      for player, highlight in pairs(ESPCache) do
         highlight:Destroy()
      end
   end,
})

Rayfield:Notify({
   Title = "Admin Fun Tools Caricato",
   Content = "Benvenuto! Versione 4.0",
   Duration = 5,
   Image = 4483362458,
})
